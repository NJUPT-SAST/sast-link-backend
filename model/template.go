package model

import (
	"bytes"
	"text/template"
)

const VerifyCodeTemplate = `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html lang="en"><head data-id="__react-email-head"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body data-id="__react-email-body" style="background-color:#ffffff;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;display:flex;flex-direction:column;justify-content:center;align-item:center"><table align="center" width="100%" data-id="__react-email-container" role="presentation" cellSpacing="0" cellPadding="0" border="0" style="max-width:37.5em;position:relative;background-color:#ffffff;border:1px solid #eee;border-radius:5px;box-shadow:0 5px 10px rgba(20,50,70,.2);margin-top:20px;width:360px;margin:100px auto 0px;padding:68px 0 130px"><tbody><tr style="width:100%"><td><img class="my-0 mx-auto" data-id="react-email-img" alt="Vercel" src="https://aliyun.sastimg.mxte.cc/images/2023/05/03/sast-linkab9b306ea82d548b.png" height="25" style="display:block;outline:none;border:none;text-decoration:none;margin:0 auto"/><p data-id="react-email-text" style="font-size:11px;line-height:16px;margin:16px 8px 8px 8px;color:#0a85ea;font-weight:700;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;height:16px;letter-spacing:0;text-transform:uppercase;text-align:center">验证你的身份</p><h1 data-id="react-email-heading" style="color:#000;font-family:HelveticaNeue-Medium,Helvetica,Arial,sans-serif;font-size:20px;font-weight:500;line-height:24px;margin-bottom:0;margin-top:0;text-align:center">本次操作的验证码是</h1><table align="center" width="100%" data-id="react-email-section" style="background:rgba(0,0,0,.05);border-radius:4px;margin:16px auto 14px;vertical-align:middle;width:280px" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody><tr><td><p data-id="react-email-text" style="font-size:32px;line-height:40px;margin:0 auto;color:#000;display:inline-block;font-family:HelveticaNeue-Bold;font-weight:700;letter-spacing:6px;padding-bottom:8px;padding-top:8px;width:100%;text-align:center">{{ . }}</p></td></tr></tbody></table><table align="center" width="100%" data-id="react-email-section" style="position:absolute;bottom:30px" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody><tr><td><p data-id="react-email-text" style="font-size:15px;line-height:23px;margin:0;color:#444;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;letter-spacing:0;padding:0 40px;text-align:center">这次的操作和你无关？</p><p data-id="react-email-text" style="font-size:15px;line-height:23px;margin:0;color:#444;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;letter-spacing:0;padding:0 40px;text-align:center">联系 <a href="mailto:link@sast.fun" data-id="react-email-link" target="_blank" style="color:#444;text-decoration:underline">link@sast.fun</a> 举报邮件滥用</p></td></tr></tbody></table></td></tr></tbody></table><p data-id="react-email-text" style="font-size:12px;line-height:23px;margin:0;color:#000;font-weight:800;letter-spacing:0;margin-top:20px;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;text-align:center;text-transform:uppercase">⚡️ Powered by SAST Software R&amp;D Center</p></body></html>`

func InsertCode(code string) string {
	page, _ := template.New("webpage").Parse(VerifyCodeTemplate)
	var b bytes.Buffer
	_ = page.Execute(&b, code)
	return b.String()
}
